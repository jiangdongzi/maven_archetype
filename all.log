2019-09-11 14:00:35.761 [main] INFO  com.xiaomi.cashpay.mq.consumer.handler.LargeAmountHandlerBuilder - finish build refund message listener container
2019-09-11 14:00:35.764 [Thread-3] INFO  com.xiaomi.cashpay.mq.consumer.handler.LargeAmountHandlerBuilder - refund message listener container will be start after 60s
2019-09-11 14:00:37.765 [Thread-4] DEBUG com.xiaomi.cashpay.mq.ProducerBuilder - try send message ...
2019-09-11 14:00:37.817 [Thread-3] DEBUG org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@133e6953[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2019-09-11 14:00:37.827 [Thread-3] DEBUG org.apache.activemq.transport.failover.FailoverTransport - Reconnect was triggered but transport is not started yet. Wait for start to connect the transport.
2019-09-11 14:00:37.947 [Thread-3] DEBUG org.apache.activemq.transport.failover.FailoverTransport - Started unconnected
2019-09-11 14:00:37.947 [Thread-3] DEBUG org.apache.activemq.transport.failover.FailoverTransport - Waking up reconnect task
2019-09-11 14:00:37.952 [ActiveMQ Task-1] DEBUG org.apache.activemq.transport.failover.FailoverTransport - urlList connectionList:[tcp://staging1.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000, tcp://staging3.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000, tcp://staging2.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000], from: [tcp://staging1.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000, tcp://staging2.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000, tcp://staging3.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000]
2019-09-11 14:00:38.034 [ActiveMQ Task-1] DEBUG org.apache.activemq.transport.failover.FailoverTransport - Attempting 0th connect to: tcp://staging1.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000
2019-09-11 14:00:38.038 [ActiveMQ Task-1] DEBUG org.apache.activemq.transport.WireFormatNegotiator - Sending: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.15.9}, magic=[A,c,t,i,v,e,M,Q]}
2019-09-11 14:00:38.040 [ActiveMQ Task-1] DEBUG org.apache.activemq.transport.failover.FailoverTransport - Connection established
2019-09-11 14:00:38.040 [ActiveMQ Task-1] INFO  org.apache.activemq.transport.failover.FailoverTransport - Successfully connected to tcp://staging1.payment.xiaomi.srv:6513?soTimeout=3000&connectionTimeout=3000
2019-09-11 14:00:38.043 [ActiveMQ Transport: tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343] DEBUG org.apache.activemq.transport.InactivityMonitor - Using min of local: WireFormatInfo { version=12, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, ProviderName=ActiveMQ, StackTraceEnabled=true, PlatformDetails=Java, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=9223372036854775807, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000, ProviderVersion=5.15.9}, magic=[A,c,t,i,v,e,M,Q]} and remote: WireFormatInfo { version=11, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, StackTraceEnabled=true, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=104857600, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000}, magic=[A,c,t,i,v,e,M,Q]}
2019-09-11 14:00:38.044 [ActiveMQ Transport: tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343] DEBUG org.apache.activemq.transport.WireFormatNegotiator - Received WireFormat: WireFormatInfo { version=11, properties={TcpNoDelayEnabled=true, SizePrefixDisabled=false, CacheSize=1024, StackTraceEnabled=true, CacheEnabled=true, TightEncodingEnabled=true, MaxFrameSize=104857600, MaxInactivityDuration=30000, MaxInactivityDurationInitalDelay=10000}, magic=[A,c,t,i,v,e,M,Q]}
2019-09-11 14:00:38.044 [ActiveMQ Transport: tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343] DEBUG org.apache.activemq.transport.WireFormatNegotiator - tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343 before negotiation: OpenWireFormat{version=12, cacheEnabled=false, stackTraceEnabled=false, tightEncodingEnabled=false, sizePrefixDisabled=false, maxFrameSize=9223372036854775807}
2019-09-11 14:00:38.064 [ActiveMQ Transport: tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343] DEBUG org.apache.activemq.transport.WireFormatNegotiator - tcp://staging1.payment.xiaomi.srv/10.38.161.64:6513@50343 after negotiation: OpenWireFormat{version=11, cacheEnabled=true, stackTraceEnabled=true, tightEncodingEnabled=true, sizePrefixDisabled=false, maxFrameSize=104857600}
2019-09-11 14:00:38.104 [ThreadPoolTaskExecutor-1] DEBUG org.apache.activemq.thread.TaskRunnerFactory - Initialized TaskRunnerFactory[ActiveMQ Session Task] using ExecutorService: java.util.concurrent.ThreadPoolExecutor@6d252fcc[Running, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0]
2019-09-11 14:00:38.111 [Thread-4] DEBUG org.apache.activemq.TransactionContext - Begin:TX:ID:lzg123-50342-1568181637835-1:1:1
2019-09-11 14:00:38.115 [Thread-4] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:1 Transaction Commit :TX:ID:lzg123-50342-1568181637835-1:1:1
2019-09-11 14:00:38.115 [Thread-4] DEBUG org.apache.activemq.TransactionContext - Commit: TX:ID:lzg123-50342-1568181637835-1:1:1 syncCount: 0
2019-09-11 14:00:38.126 [Thread-4] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:1 Transaction Rollback, txid:null
2019-09-11 14:00:38.127 [Thread-4] DEBUG com.xiaomi.cashpay.mq.ProducerBuilder - finish send message ...
2019-09-11 14:00:38.129 [ThreadPoolTaskExecutor-1] DEBUG org.apache.activemq.TransactionContext - Begin:TX:ID:lzg123-50342-1568181637835-1:1:2
2019-09-11 14:00:38.131 [ThreadPoolTaskExecutor-1] INFO  com.xiaomi.cashpay.mq.consumer.handler.LargeAmountHandler - large amount message handler receive message=hello
2019-09-11 14:00:38.131 [ThreadPoolTaskExecutor-1] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:2 Transaction Commit :TX:ID:lzg123-50342-1568181637835-1:1:2
2019-09-11 14:00:38.131 [ThreadPoolTaskExecutor-1] DEBUG org.apache.activemq.TransactionContext - Commit: TX:ID:lzg123-50342-1568181637835-1:1:2 syncCount: 1
2019-09-11 14:00:39.110 [ThreadPoolTaskExecutor-2] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:3 Transaction Commit :null
2019-09-11 14:00:39.140 [ThreadPoolTaskExecutor-1] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:2 Transaction Commit :null
2019-09-11 14:00:40.114 [ThreadPoolTaskExecutor-2] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:3 Transaction Commit :null
2019-09-11 14:00:40.127 [Thread-4] DEBUG com.xiaomi.cashpay.mq.ProducerBuilder - try send message ...
2019-09-11 14:00:40.128 [Thread-4] DEBUG org.apache.activemq.TransactionContext - Begin:TX:ID:lzg123-50342-1568181637835-1:1:3
2019-09-11 14:00:40.128 [Thread-4] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:1 Transaction Commit :TX:ID:lzg123-50342-1568181637835-1:1:3
2019-09-11 14:00:40.129 [Thread-4] DEBUG org.apache.activemq.TransactionContext - Commit: TX:ID:lzg123-50342-1568181637835-1:1:3 syncCount: 0
2019-09-11 14:00:40.134 [Thread-4] DEBUG org.apache.activemq.ActiveMQSession - ID:lzg123-50342-1568181637835-1:1:1 Transaction Rollback, txid:null
2019-09-11 14:00:40.135 [Thread-4] DEBUG com.xiaomi.cashpay.mq.ProducerBuilder - finish send message ...
2019-09-11 14:00:40.136 [ThreadPoolTaskExecutor-2] DEBUG org.apache.activemq.TransactionContext - Begin:TX:ID:lzg123-50342-1568181637835-1:1:4
2019-09-11 14:00:40.136 [ThreadPoolTaskExecutor-2] INFO  com.xiaomi.cashpay.mq.consumer.handler.LargeAmountHandler - large amount message handler receive mes